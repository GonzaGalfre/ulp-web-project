<!DOCTYPE html>
<html>
<head>
  <title>Resultados</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h1>Tu puntuación: <%= score %> / 10</h1>
    <h2>Tiempo tomado: <%= timeTaken %> segundos</h2>
    <input type="text" id="playerName" placeholder="Ingresa tu nombre">

    <!-- Botón para volver a la pantalla inicial -->
    <a href="/" class="btn btn-primary">Volver a la pantalla inicial</a>

    <!-- Botón para postear resultados en la base de datos -->
    <button class="btn btn-success" onclick="postResults()">Guardar resultados</button>
  </div>

  <script>
  function postResults() {
    const playerName = document.getElementById('playerName').value; // Obtener el nombre del jugador
    fetch('/save-results', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        score: <%= score %>,
        timeTaken: <%= timeTaken %>,
        playerName 
      })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Resultados guardados con éxito.');
      } else {
        alert('Hubo un error al guardar los resultados.');
      }
    });
  }

  </script>
</body>
</html>
